# 隨便吃！App - MVP 規格書

## 📱 專案概述
**App 名稱**：隨便吃！

隨便吃！是一款專為美食愛好者設計的 App，主打輕鬆探索餐廳與隨機推薦功能。核心概念是「幫使用者解決吃什麼的選擇困難」。

## 🎯 Bottom Tab 導覽結構（共 4 項）

### 1. Spin（轉盤）
- 顯示轉盤動畫與按鈕
- 按下後隨機轉出一家餐廳
- 顯示結果與「重新轉一次」按鈕

### 2. Explore（探索）
- 提供手動輸入區域搜尋與篩選條件
- 篩選：餐廳類型、距離、價位
- 餐廳清單卡片展示：名稱、距離、評分

### 3. Map（地圖）
- 使用 react-native-maps 顯示餐廳標記
- 支援定位、地圖縮放與點選餐廳查看簡要資訊

### 4. My（我的）
- 編輯個人資訊（暱稱、頭像，目前不提供使用者上傳，App 內建三張頭像供選擇）
- 管理口袋名單與黑名單
- 查看朋友推薦的餐廳

## 🧩 MVP 功能規劃

### 1. 登入 / 註冊
- Email 註冊登入（可先用假帳號流程）
- 編輯個人資訊（暱稱、頭像）

### 2. 餐廳探索頁（Explore）
- 手動輸入區域搜尋
- 篩選條件：餐廳類型、距離、價位
- 餐廳清單展示（卡片列表）

### 3. 轉盤推薦頁（Spin）
- 點擊轉盤後隨機選出符合條件餐廳
- 顯示餐廳詳細與重轉按鈕

### 4. 收藏與黑名單（在 My 頁）
- 餐廳收藏到口袋名單
- 標記黑名單避免再次推薦
- 收藏與黑名單可獨立瀏覽、移除

### 5. 好友推薦（My 頁）
- 餐廳卡片可產生分享連結
- 分享後可查看朋友推薦餐廳列表

## 🛠 技術需求
- **框架**：React Native + TypeScript (Expo 專案)
- **導航**：React Navigation 建立 Bottom Tab
- **狀態管理**：Redux Toolkit
- **樣式**：UI 使用 Tailwind CSS (NativeWind) 或 StyleSheet
- **圖標**：Icons 優先用 Lucide React Native，無對應則用 react-native-vector-icons
- **地圖**：使用 react-native-maps

## 🎨 視覺配色建議
- **主色調**：活力橘色（#FF6F3C）
- **背景色**：白色或淺灰色（#FAFAFA）保持整潔與輕盈感
- **使用原則**：
  - 主色用於主要按鈕、重要標題文字、Icon 等強調元素
  - 背景與文字保持高對比，確保易讀性與視覺舒適

## 🔧 需求產出
1. App.tsx 實作 Bottom Tab 導覽，包含 Spin、Explore、Map、My 四頁
2. 四頁的初始骨架畫面（每頁顯示簡單文字標示頁面）
3. 提供初步資料夾架構建議（畫面與共用元件切分）
4. Explore 頁建議搜尋／篩選 UI 與餐廳資料結構設計
5. Map 頁建議地圖標記與互動設計
6. 盡可能用 mock JSON 資料實作，暫不串接 API

## 📝 開發原則
此為 MVP 版本，請以擴充性與簡潔為首要目標。

## 🚀 開發狀態

### ✅ 已完成功能
- [x] 專案初始化 (Expo + React Native + TypeScript)
- [x] Bottom Tab 導覽建立
- [x] Redux Store 設定 (Redux Toolkit)
- [x] Mock 資料建立
- [x] **Spin（轉盤）頁面** - 100% 完成
  - [x] 轉盤動畫效果
  - [x] 隨機選擇餐廳
  - [x] 結果展示 Modal
  - [x] 重新轉盤功能
- [x] **Explore（探索）頁面** - 100% 完成
  - [x] 搜尋功能
  - [x] 篩選條件（料理類型、價位、距離）
  - [x] 餐廳列表展示
- [x] **Map（地圖）頁面** - 100% 完成
  - [x] 真實地圖整合 (react-native-maps)
  - [x] 餐廳標記顯示
  - [x] 點選查看詳情
  - [x] 地圖縮放與移動
  - [x] 定位按鈕（需位置權限）
- [x] **My（我的）頁面** - 100% 完成
  - [x] 個人資訊編輯（暱稱、頭像）
  - [x] 口袋名單管理
  - [x] 黑名單管理
  - [x] 朋友推薦列表
- [x] **共用功能**
  - [x] 收藏/取消收藏
  - [x] 加入/移除黑名單
  - [x] RestaurantCard 元件

- [x] **登入/註冊功能** - 100% 完成
  - [x] 登入頁面
  - [x] 註冊頁面（含頭像選擇）
  - [x] 登出功能
  - [x] 狀態管理整合
- [x] **分享功能** - 100% 完成
  - [x] 餐廳卡片分享
  - [x] App 推薦分享
  - [x] 整合 react-native-share

### 🔧 待實作功能
- [ ] API 串接（目前使用 Mock 資料）
- [ ] 深層連結
- [ ] 推播通知
- [ ] 實際位置權限與定位功能

## 🆕 進階功能規劃（Phase 2）

### 1. 訪客模式與會員差異
- **訪客模式**
  - 可使用基本功能（轉盤、探索、地圖）
  - 資料僅存本地，無雲端同步
  - 收藏上限 10 家、轉盤名單上限 5 家
  - 無法使用社交功能
  - 右上角顯示「註冊」圖標，引導註冊
  
- **註冊會員**
  - 無限制收藏與轉盤名單
  - 資料雲端同步，換機不遺失
  - 完整社交功能
  - 個人化推薦
  - 用餐記錄與統計

### 2. 社交功能 - 加好友系統
- **加好友方式**
  - QR Code 掃描（最簡單直接）
  - 用戶 ID 搜尋
  - 附近的美食家（基於地理位置）
  - 餐廳詳情頁「誰也收藏」
  
- **好友功能**
  - 查看好友的轉盤名單、口袋名單
  - 不顯示黑名單（隱私考量）
  - 分享餐廳推薦
  - 查看好友用餐記錄

### 3. 用餐記錄功能
- **記錄方式**
  - 手動打卡：餐廳卡片上「我去吃了」按鈕
  - 轉盤追蹤：轉盤結果自動建立待確認記錄
  - 地理圍欄（進階）：自動偵測到達餐廳
  
- **記錄內容**
  ```typescript
  interface DiningRecord {
    id: string;
    restaurantId: string;
    visitDate: Date;
    visitType: 'spin' | 'planned' | 'spontaneous';
    satisfaction: 'love' | 'good' | 'okay' | 'bad';
    photos?: string[];
    dishes?: string[];
    spending?: number;
    companions?: string[];
    notes?: string;
    isPublic: boolean;
  }
  ```
  
- **功能整合**
  - 在「我的」頁面新增「用餐記錄」Tab
  - 統計分析（本月用餐次數、最常去餐廳等）
  - 時間軸展示用餐歷史
  - 可分享單筆記錄給好友

### 4. 轉盤後續流程優化
- **轉盤結果行動選項**
  - 導航前往（整合地圖 App）
  - 稍後提醒（設定用餐時間）
  - 揪朋友（分享給特定好友）
  
- **用餐追蹤**
  - 3 小時後推送通知詢問體驗
  - 快速記錄滿意度（表情符號）
  - 上傳照片與筆記

### 5. 餐廳資料來源策略
- **混合模式**
  - 基礎資料：Google Places API（地址、電話、營業時間）
  - 特色資料：用戶貢獻（推薦菜、實拍照、心得）
  - 私房餐廳：純用戶新增（需 3 人驗證）
  
- **資料可信度**
  - 顯示資料來源標記
  - 用戶驗證機制
  - 貢獻者積分系統

### 6. 發現附近用戶
- **地圖頁面增強**
  - 熱門餐廳標記（顯示多少用戶去過）
  - 即時動態（誰正在附近用餐）
  
- **探索頁面新增**
  - 「附近美食家」Tab
  - 顯示品味相似度
  - 一鍵發送好友請求

### 7. 社交互動增強
- **餐廳詳情頁**
  - 顯示「3 位美食家也收藏了這家」
  - 點擊頭像查看對方公開的美食地圖
  
- **轉盤巧遇**
  - 轉到餐廳時顯示「XX 朋友昨天也去過」
  - 可直接詢問體驗

## 📊 功能優先級建議

### Phase 2.1（高優先）
1. 訪客模式優化與引導註冊
2. 基礎社交功能（加好友、查看好友名單）
3. 簡單用餐記錄（手動打卡）

### Phase 2.2（中優先）
4. 用餐記錄統計與分享
5. 轉盤後續流程優化
6. 附近美食家發現

### Phase 2.3（低優先）
7. 地理圍欄自動記錄
8. 餐廳資料用戶貢獻系統
9. 即時動態功能

---

**版本**: MVP 2.0 規劃  
**最後更新**: 2025-01-26  
**專案狀態**: Phase 1 已完成，Phase 2 規劃中